#!/bin/sh

# TODO: This can be improved with wildcards
# See: https://github.com/raineorshine/npm-check-updates/releases/tag/v11.2.0

echo 'ncu -u --target=patch $1 | grep "$1" | grep -o "[0-9].*"'
COMMIT_DESC=$(ncu -u $1 | grep "$1" | grep -o "[0-9].*");
if [ "$COMMIT_DESC" = "" ]; then
  echo "commit message broken: Â»$($COMMIT_DESC)Â«"
  exit 1
fi
git a
echo ""
echo ""
echo "################################################################################"
echo "ðŸ“¦ â¬† $1"
echo "Changed Verstion number of $1: $COMMIT_DESC"
echo "################################################################################"
echo ""
git commit -m "ðŸ“¦ â¬† $1" -m "Changed Verstion number of $1: $COMMIT_DESC"
